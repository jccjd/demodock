# Custom OpenSandbox configuration for demo
# Uses port 8081 to match the service configuration

[server]
# Lifecycle API host/port and logging settings
# -----------------------------------------------------------------
host = "127.0.0.1"
port = 8081  # Changed from 8080 to 8081 to match service config

log_level = "INFO"

# Shared API key for the OPEN-SANDBOX-API-KEY header (leave empty only for dev)
api_key = ""


[runtime]
# Runtime selection (docker | kubernetes)
# -----------------------------------------------------------------
type = "docker"
execd_image = "opensandbox/execd:latest"

[docker]
# Docker-specific knobs
# -----------------------------------------------------------------
# Use bridge for network isolation
network_mode = "bridge"
# Drop dangerous capabilities and block privilege escalation
drop_capabilities = ["AUDIT_WRITE", "MKNOD", "NET_ADMIN", "NET_RAW", "SYS_ADMIN", "SYS_MODULE", "SYS_PTRACE", "SYS_TIME", "SYS_TTY_CONFIG"]
no_new_privileges = true
# Optional: set an AppArmor profile name (e.g., "docker-default") when AppArmor is enabled
apparmor_profile = ""
# Limit process count to reduce host impact from fork bombs; set to null to disable
pids_limit = 512
# Seccomp profile: empty string uses Docker default; set to an absolute path for a custom profile
seccomp_profile = ""